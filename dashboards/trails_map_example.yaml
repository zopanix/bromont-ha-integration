# Example Dashboard Configuration for Bromont Trails with OpenStreetMap Integration
#
# This dashboard shows how to display trail information with their OpenStreetMap locations
# You can use the osm_id attribute to link trails to their OSM data for mapping

type: vertical-stack
cards:
  # Trail Status Overview
  - type: entities
    title: Trail Status Overview
    entities:
      - sensor.ski_bromont_trails_day
      - sensor.ski_bromont_trails_night

  # Individual Trail Cards with OSM Links
  - type: markdown
    title: Trails with OpenStreetMap Data
    content: |
      ## How to Use OSM Data
      
      Each trail sensor now includes OpenStreetMap attributes:
      - `osm_id`: The OpenStreetMap way ID
      - `osm_url`: Direct link to view the trail on OpenStreetMap
      - `osm_difficulty`: OSM difficulty rating
      - `osm_grooming`: Grooming information
      - `osm_lit`: Whether the trail is lit
      
      You can use these attributes to:
      1. Display trails on a map using the OSM way ID
      2. Link to OpenStreetMap for detailed trail information
      3. Show additional trail metadata not available from Bromont's website

  # Example: Display trail with OSM link
  - type: entities
    title: Example Trail - Cowansville
    entities:
      - entity: sensor.ski_bromont_trail_47_cowansville
        type: attribute
        attribute: day_status
        name: Day Status
      - entity: sensor.ski_bromont_trail_47_cowansville
        type: attribute
        attribute: night_status
        name: Night Status
      - entity: sensor.ski_bromont_trail_47_cowansville
        type: attribute
        attribute: difficulty
        name: Difficulty
      - entity: sensor.ski_bromont_trail_47_cowansville
        type: attribute
        attribute: osm_id
        name: OpenStreetMap ID
      - entity: sensor.ski_bromont_trail_47_cowansville
        type: attribute
        attribute: osm_url
        name: View on OSM

  # Map Card Example (requires custom map card like map-card or leaflet-map-card)
  # Install from HACS: https://github.com/nathan-gs/ha-map-card
  - type: custom:map-card
    title: Bromont Trails Map
    entities:
      # You can filter entities by pattern to show all trails
      - entity_id: sensor.ski_bromont_trail_*
    default_zoom: 14
    hours_to_show: 0
    # Bromont coordinates
    center:
      latitude: 45.3167
      longitude: -72.6500

  # Alternative: Use iframe to embed OpenStreetMap
  - type: iframe
    title: Bromont Area on OpenStreetMap
    url: https://www.openstreetmap.org/export/embed.html?bbox=-72.67,45.30,-72.63,45.33&layer=mapnik
    aspect_ratio: 100%

  # Trail List with Status
  - type: custom:auto-entities
    card:
      type: entities
      title: All Trails (Auto-generated)
    filter:
      include:
        - entity_id: sensor.ski_bromont_trail_*
          options:
            type: custom:multiple-entity-row
            name: true
            secondary_info:
              attribute: area
            entities:
              - attribute: day_status
                name: Day
              - attribute: night_status
                name: Night
              - attribute: osm_id
                name: OSM
    sort:
      method: name

# Notes:
# 1. The sensor entity IDs will be in the format:
#    - sensor.ski_bromont_trail_osm_{osm_id} (if OSM match found)
#    - sensor.ski_bromont_trail_{number}_{name} (if no OSM match)
#
# 2. To display trails on a map, you'll need a custom map card from HACS
#    Recommended: https://github.com/nathan-gs/ha-map-card
#
# 3. Each trail sensor has these OSM attributes:
#    - osm_id: Way ID from OpenStreetMap
#    - osm_url: Direct link to the trail on OSM
#    - osm_piste_type: Type of piste (downhill, nordic, etc.)
#    - osm_difficulty: OSM difficulty rating
#    - osm_grooming: Grooming type (classic, mogul, etc.)
#    - osm_lit: Whether trail is lit (yes/no)
#    - osm_oneway: One-way direction if applicable